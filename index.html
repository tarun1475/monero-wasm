<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>WASM Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="./monerocore.js"></script>
  </head>
  <body>
    <h1>WASM Demo</h1>
    <div id="mnemonic"></div>

    <script type="text/javascript">
      const unspent_outs_json =
        '{"amount":"1998063492276","new_address":false,"outputs":[{"amount":"1998063492276","global_index":405287,"height":1116022,"index":0,"public_key":"1dfe3d20240b879ca110822c56c1f3fcb4c7d27d0988ef2421f24cf03f6454cf","rct":"c93b0b5bebf8ce0bb73fe4ecf3f8f42c5cfc1906870697059e73fe67b5d9c4a84ed1c4d730bad4bd2f47bcdeb848ca9f410954b63248bfb4b283cdcb5d1ee1028c0f6bcd4c9b1c333e841b9030f3545f68b736708cfa0fa2ae1cd5c056b2820d","spend_key_images":[],"timestamp":1545381178000,"tx_hash":"8aa405cd24c2a74b9718e7dac05155542b118a0d53150cc37a721968fd66f9f4","tx_id":22,"tx_prefix_hash":"0aeb1aa28b21ecf2be5e76c3431475ed997c88dd69160b613d3c6395070deea0","tx_pub_key":"1042bcf9540e5fd8cd24eea820e5df19e3bddca509cb08b224859605dbc4765c"}],"per_byte_fee":49844,"status":"success"}';
      const rand_outs_json =
        '{"amount_outs":[{"amount":"0","outputs":[{"global_index":240852,"public_key":"6840da05262837e45b5f77a5b969b153bead1890103dc7fa8a84ccb265dddf01","rct":"67d7de22ec659b6a1a96ab8d54050c83edb54710a7e29e9725a80dec44c041f100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},{"global_index":362275,"public_key":"5285209bb3fe42c8078dbb1ce890429aa667b6aa5d18f5dbfe36a09718ed244f","rct":"2d602d281e176629576174843c5912f2363934554858d9d1f616b15ab78c5de300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},{"global_index":223348,"public_key":"a6c895170ba6b8eba181c4d158687f22216945d8ca2cb0bd86468aa45bf22ab8","rct":"76508239a7f9ac609e9b34a35606479b3de06b8e16b1f0986a4a0d9a1f6b2c9700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},{"global_index":357956,"public_key":"8bc1fa37d33946237377adc319727da9efad5ff8dc41f218d30f2a3ca487727e","rct":"75cc4655dbba5b67de431e001dffd0ad1b3cbe9888303c4f4c7782a83e29a376b05ab6d37ab098f5a13ba7cda7209309bc442bcf892fed922330ba7847e8fd04c0a3e5ec14c9096e1dad74c62c005505dfb2bf269ae2dd30b69e672d5f591d03"},{"global_index":225476,"public_key":"0a842cb65281dc96a34c1639635faa9f173dd4be740cfdf90ad5c3895b25b32a","rct":"014bb2d2897cdfec9880542574987ced41ad50cd752da54623daa8600217bc9d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},{"global_index":181123,"public_key":"c19cbfff3ce57fc33bafafad4a0097eccbbfaa70e1d117b8fd18087ab90a8e14","rct":"9584f2285b9b8292863a69746c9c69307cade99b3bbf1727dc1eb771f1ca262300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},{"global_index":256945,"public_key":"ca852e581d2e9786a7240ea7416610872402171e052a2f8e367d044d44d53c89","rct":"98c38bb4bb40d86deb42a0012ebc64828fc9ab7450dc5336c9ce4aa1003c61c800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},{"global_index":267962,"public_key":"3c66f8be0491df9c15b29a2f4134b3de2c5fea03a592c790838c1b6e193b1c2d","rct":"309fd09b184538424d1d32c94ea30f742e3ff09740ea2f73ba6a1badc4c533b600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},{"global_index":406297,"public_key":"2435c47aa4f029d7fc14b2b2609af47f75512ac1450faee800c3407904170687","rct":"81e975483980d7d1b3affdb96bb8f0e991a5ea70f90affedec8858401ba7f98600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},{"global_index":299225,"public_key":"7d55d627126ef40098cfc3283e6c328f085cf647556d2fff9ab345ba4bfbc206","rct":"422c30be9914b5832e81c364f9ef073449d4c3b580ed85b0a1600b41edc57672af3ca71cecd88e5943b4eefbe17ffd17703275b653d017da230f81cc64b31407542e6aae4c00fa077b8986ec4d647ba40ae3ed3b4ed221fa9eddec688c85300f"}]}]}';
      const from_address =
        "9vmdNrtvQijbNsp2D9cUUpZHyoygfdwfpA7qmAURwJ5g1qTkMfmYVcpZtPR2R9TkL97Yh5Q9YvNgpEos43JqPUQnFLmHc2o";
      const to_address =
        "A12az3BuZgqB3QLaerPWvmMSFY3Q7aZcqPrCRcFa4b5jc6dV4AsT6hfXibvdRLEuyfUzVWTTh78pi9d4nc7WXJgvEi3XNuq";
      const sec_view_key =
        "7fc00ba80e14fd0afa0583cd0fb458f0d09ca4ff9ebdce7370071aa9cf5f7d0a";
      const sec_spend_key =
        "e0a93baff39238ea7ef774e408c3e93a07699568d7775456adf5a131a6c5eb0c";
      const amount_to_send = "200000000";
      const fees = "49846";

      var data = MyMoneroCoreCpp().wallet_get_raw_transaction(
        unspent_outs_json,
        rand_outs_json,
        from_address,
        to_address,
        sec_view_key,
        sec_spend_key,
        amount_to_send,
        fees
      );
      // data = JSON.parse(data);
      document.getElementById("mnemonic").innerHTML = data;
    </script>
  </body>
</html>
